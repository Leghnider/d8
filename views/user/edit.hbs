{{> navbar2}}
<div class="content-container container">
  <main class="form-register">
    <div class="row py-3">
      <form id="edit-profile-form" action="/user/{{user._id}}/edit" method="POST" enctype="multipart/form-data">
      <h1 class="h4 mb-3 fw-normal" style="font-weight: bolder;">Edit your profile</h1>
      <p>Your profile will be visible to other users</p>

      <div class="row">
        <div class="form-floating col-md-4 py-1">
          <input id="username" type="text" name="username" class="form-control" id="floatingUsername" value="{{userInfo.username}}" required>
          <label for="floatingUsername">Username</label>
        </div>
        <div class="form-floating col-md-4 py-1">
          {{!-- Does not preselect the last location, selected didn't work --}}
          <select id="location" type="text" name="location" class="form-control" id="floatingLocation" required>
            <option {{#if_eq "North London" userInfo.location }} selected="selected" {{/if_eq}} value="North London"> North London </option>
            <option {{#if_eq "West London" userInfo.location }} selected="selected" {{/if_eq}} value="West London"> West London </option>
            <option {{#if_eq "South London" userInfo.location }} selected="selected" {{/if_eq}} value="South London"> South London </option>
            <option {{#if_eq "East London" userInfo.location }} selected="selected" {{/if_eq}} value="East London"> East London </option>  
          </select>
          <label for="floatingLocation">Location</label>
        </div>
        <div class="form-floating col-md-4 py-1">
          <input id="age" type="number" name="age" min="18" max="100" class="form-control" id="floatingAge" value="{{userInfo.age}}" required>
          <label for="floatingAge">Age</label>
        </div>
      </div>

      <div class="row">
        <div class="col-12 mx-auto py-1 mb-4">
          <label for="bio">Bio</label>
          <textarea class="form-control" id="bio" type="text" name="bio" rows="7" style="width: 100%;">{{userInfo.bio}}</textarea>
        </div>
      </div>
      <div>
          <label for="profileImage" style="padding-top: 10px; padding-bottom: 30px;">Edit your profile picture</label>
          <input style="margin-top: 10px" type='file' name="profileImage" id="profileImage">
      </div>
      
      <button class="w-100 btn btn-lg btn-primary" type="submit">Edit profile</button>

      </form>
    </div>
    <div class="row py-1 backtoprofile">
      <a href="/user/{{user._id}}">Back to your profile</a>
    </div>
  </main>
</div>